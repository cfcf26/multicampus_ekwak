# 🚇 서울교통공사 지하철 혼잡도 대시보드

서울교통공사의 지하철 혼잡도 데이터를 시각화하고 탐색할 수 있는 Streamlit 기반 대시보드입니다.

## 📊 소개

이 프로젝트는 서울교통공사에서 제공하는 지하철 혼잡도 정보를 분석하고 시각화하여, 언제 어디가 가장 붐비는지 쉽게 파악할 수 있도록 도와줍니다.

- **데이터**: 서울교통공사_지하철혼잡도정보_20250930.csv
- **대상**: 1~8호선, 245개 역
- **시간**: 5시30분 ~ 00시30분 (30분 간격, 39개 시간대)
- **요일**: 평일, 토요일, 일요일

## ✨ 주요 기능

### 1. 인터랙티브 필터
- 요일, 호선, 역, 방향, 시간대별 다양한 필터 조합
- 실시간 데이터 업데이트

### 2. KPI 대시보드
- 최대 혼잡도 및 발생 위치
- 평균 혼잡도
- 주요 통계 요약

### 3. 다양한 시각화
- **히트맵**: 역별 시간대 혼잡도 패턴
- **라인 차트**: 시간대별 혼잡도 추이
- **랭킹 바 차트**: Top-N 혼잡 역
- **박스플롯**: 시간대별 혼잡도 분포

### 4. 데이터 내보내기
- 필터링된 결과를 CSV로 다운로드

## 🚀 설치 및 실행

### 1. 의존성 설치

```bash
pip install -r requirements.txt
```

### 2. 데이터 준비 (선택)

이미 정제된 데이터(`data/processed/congestion_clean.parquet`)가 있다면 이 단계는 건너뛰어도 됩니다.

```bash
python src/etl.py
```

### 3. 대시보드 실행

```bash
streamlit run app.py
```

브라우저에서 자동으로 `http://localhost:8501`로 열립니다.

## 📁 프로젝트 구조

```
multicampus_ekwak/
├── app.py                          # Streamlit 메인 앱
├── src/
│   ├── etl.py                      # 데이터 ETL 스크립트
│   ├── data.py                     # 데이터 로드 및 필터링
│   ├── metrics.py                  # KPI 및 메트릭 계산
│   └── charts.py                   # Plotly 차트 생성
├── data/
│   ├── raw/                        # 원본 CSV 데이터
│   └── processed/                  # 정제된 Parquet 데이터
├── requirements.txt                # Python 의존성
└── 대시보드_구현계획_Streamlit.md   # 구현 계획 문서
```

## 📋 데이터 스키마

| 컬럼 | 설명 | 예시 |
|------|------|------|
| weekday | 요일구분 | 평일, 토요일, 일요일 |
| line | 호선 | 1호선~8호선 |
| station_name | 역명 | 서울역, 강남 등 |
| direction | 방향 | 상선/하선, 내선/외선 |
| time_slot | 시간 | 05:30~00:30 |
| congestion | 혼잡도 | 0.0~164.3 |
| period | 시간대 | 출근/퇴근/오전/오후 등 |

## 🛠️ 기술 스택

- **Python 3.8+**
- **Streamlit**: 인터랙티브 웹 대시보드
- **Plotly**: 동적 차트 및 시각화
- **Pandas**: 데이터 처리 및 분석
- **PyArrow**: 효율적인 Parquet 파일 처리

## 📝 구현 단계

- ✅ **페이즈 1**: 데이터 정제 및 ETL 파이프라인
- ✅ **페이즈 2**: Streamlit MVP 대시보드
- ⏳ **페이즈 3**: 고도화 및 비교 분석 기능
- ⏳ **페이즈 4**: 배포 및 운영

## 💡 사용 팁

1. **필터 조합**: 사이드바에서 여러 필터를 조합하여 원하는 조건의 데이터를 탐색하세요
2. **시간대 비교**: 출근 시간대(7-9시)와 퇴근 시간대(18-20시)를 비교해보세요
3. **역 검색**: 역 선택 필터에서 키워드로 검색할 수 있습니다
4. **데이터 다운로드**: 분석 결과를 CSV로 내보내서 추가 분석이 가능합니다

## 📞 문의

프로젝트 관련 문의사항이 있으시면 이슈를 등록해주세요.

